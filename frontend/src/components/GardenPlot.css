/* frontend/src/components/GardenPlot.css */
/* Redesigned garden plot with whimsical, airy, mystical aesthetics & 90s feel */

.garden-plot {
  position: relative;
  flex: 1;
  aspect-ratio: 1 / 1; /* Make plots square */
  max-width: 150px; /* Control max size if needed */
  background-color: #4a3f35; /* Earthy base */
  border-radius: 8px; /* Softer edges */
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid #332a22; /* Darker border */
  border-bottom-color: #5a4f45; /* Lighter bottom edge for 3D effect */
  border-right-color: #5a4f45;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.3), 0 2px 3px rgba(0,0,0,0.4);
}

/* Add subtle soil texture */
.garden-plot::before {
  content: '';
  position: absolute;
  inset: 3px; /* Inset texture slightly */
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgb3BhY2l0eT0iMC4xNSIgZmlsbD0iIzE5MTUxMSI+CiAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMSIgLz4KICAgIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTUiIHI9IjEuNSIgLz4KICAgIDxjaXJjbGUgY3g9IjMiIGN5PSIxOCIgcj0iMC44IiAvPgogICAgPGNpcmNsZSBjeD0iMTciIGN5PSIyIiByPSIwLjgiIC8+CiAgICA8Y2lyY2xlIGN4PSIxMCIgY3k9IjEwIiByPSIwLjgiIC8+CiAgPC9nPgo8L3N2Zz4=');
  opacity: 0.5;
  pointer-events: none;
  border-radius: 5px;
}

/* Hover effect */
.garden-plot:hover:not(.locked) {
  transform: translateY(-3px) scale(1.03);
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.3), 0 5px 8px rgba(0,0,0,0.4);
  border-color: var(--color-accent-secondary); /* Gold highlight */
}

/* Selected state */
.garden-plot.selected:not(.locked) {
  border: 2px solid var(--color-accent-primary); /* Lavender highlight */
  box-shadow: 0 0 10px rgba(181, 157, 196, 0.5), inset 0 0 5px rgba(181, 157, 196, 0.2);
  z-index: 2;
}

.garden-plot.locked {
  background-color: #4a4660; /* More purple/grey */
  cursor: not-allowed;
  opacity: 0.8;
  border-color: #2c2a3e;
}

.locked-overlay {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  background-color: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(1px);
  border-radius: inherit;
}

/* 90s style lock */
.lock-icon {
  font-size: 2.5em; /* Larger lock */
  color: #7a6c95;
  text-shadow: 1px 1px 0 #2c2a3e, -1px -1px 0 #2c2a3e, 1px -1px 0 #2c2a3e, -1px 1px 0 #2c2a3e; /* Pixelated outline */
  filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));
}

/* Soil visualization (no separate element needed, style the plot bg) */
/* .plot-soil { Removed - No longer needed } */

/* Moisture level styling */
.garden-plot.dry { background-color: #6d4c41; /* Drier brown */ }
.garden-plot.dry::before { opacity: 0.3; } /* Less texture */
.garden-plot.wet { background-color: #3e2723; /* Darker, wetter */ }
.garden-plot.wet::before { opacity: 0.7; } /* More texture */
.garden-plot.normal { background-color: #4a3f35; } /* Default */

/* Plant visualization - More stylized/pixel-art inspired */
.plant {
  position: absolute;
  bottom: 15%; /* Position relative to plot */
  left: 50%;
  transform: translateX(-50%);
  width: 70%; /* Relative size */
  height: 70%;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  z-index: 1;
  image-rendering: pixelated; /* Key for pixel art feel if using images */
  transition: transform 0.4s ease-out; /* Smooth growth transition */
}

/* Base visual (can be a div with background-image or nested elements) */
.plant > div { /* Target the inner visual element */
  width: 100%;
  height: 100%;
  background-size: contain; /* Adjust as needed */
  background-repeat: no-repeat;
  background-position: bottom center;
  position: relative; /* For pseudo-elements */
}

/* Define stages using background images (example placeholders) */
/* Replace data URLs with actual pixel art SVGs or PNGs for best results */
.seedling-visual { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="%237eba76" d="M8 14v-4h-1v4h-1v1h4v-1h-1zm-1-5h2v-1h-2v1zm1-2c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"/><path fill="%2390a959" d="M7 9h2v1h-2v-1zm-1-1h4v1h-4v-1z"/></svg>'); }
.sprout-visual { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="%237eba76" d="M8 14v-6h-1v6h-1v1h4v-1h-1zm-1-7h2v-1h-2v1zm1-2c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"/><path fill="%2390a959" d="M6 7h4v1h-4v-1zm-1 1h6v1h-6v-1zm-1 1h8v1h-8v-1z"/></svg>'); }
.growing-visual { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="%237eba76" d="M8 14v-8h-1v8h-1v1h4v-1h-1zm-2-9h4v-1h-4v1zm2-2c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"/><path fill="%2390a959" d="M5 5h6v1h-6v-1zm-1 1h8v1h-8v-1zm-1 1h10v1h-10v-1zm-1 1h12v1h-12v-1z"/></svg>'); }
.maturing-visual { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="%237eba76" d="M8 14v-10h-1v10h-1v1h4v-1h-1zm-2-11h4v-1h-4v1zm2-2c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"/><path fill="%2390a959" d="M5 3h6v1h-6v-1zm-1 1h8v1h-8v-1zm-1 1h10v1h-10v-1zm-1 1h12v1h-12v-1zm-1 1h14v1h-14v-1z"/><path fill="%23b59dc4" d="M7 2h2v1h-2z"/></svg>'); } /* Added bud */
/* Mature stage will need specific visuals per type */
.mature-visual {
  /* Base style, overridden by specific types below */
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="%235d8346" d="M8 14v-12h-1v12h-1v1h4v-1h-1zm-2-13h4v-1h-4v1zm2-0c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"/><path fill="%237eba76" d="M4 1h8v1h-8v-1zm-1 1h10v1h-10v-1zm-1 1h12v1h-12v-1zm-1 1h14v1h-14v-1zm0 1h14v1h-14v-1z"/></svg>');
}

/* Specific Mature Plant Visuals (Using simple placeholders, replace with actual art) */
.mature-visual .mature-flower-element {
    position: absolute;
    top: 5%; /* Position flower higher */
    left: 50%;
    transform: translateX(-50%);
    width: 40%; /* Adjust size */
    height: 40%;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="%23b59dc4" d="M8 4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-1c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3z"/><path fill="%23d6a44c" d="M8 5c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"/></svg>');
    background-size: contain;
    background-repeat: no-repeat;
}
/* Add styles for .mature-herb-element, .mature-root-element etc. */

/* Health states using filters (subtle) */
.plant.unhealthy > div { filter: saturate(60%) brightness(80%); }
.plant.fair > div { filter: saturate(85%) brightness(95%); }
.plant.healthy > div { filter: none; }

/* Moon blessing effect - subtle pixel shimmer */
.moon-blessing-effect {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  background-image: radial-gradient(circle, rgba(229, 225, 241, 0.3) 1px, transparent 1px);
  background-size: 5px 5px; /* Pixel grid */
  animation: moon-shimmer 1s steps(2, end) infinite;
  opacity: 0.7;
  z-index: 2;
  pointer-events: none;
}

@keyframes moon-shimmer {
  0% { background-position: 0 0; }
  50% { background-position: 2px 2px; }
}

/* Plot status icons - Pixelated text/symbols */
.plot-status {
  position: absolute;
  top: 4px;
  right: 4px;
  z-index: 5;
  display: flex;
  flex-direction: column;
  gap: 3px;
}

.status-icon {
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px; /* Pixel blocky */
  font-size: 12px;
  font-family: 'Courier New', Courier, monospace; /* Monospace for pixel feel */
  font-weight: bold;
  box-shadow: 1px 1px 0 rgba(0,0,0,0.5);
  text-align: center;
  transition: all 0.2s ease;
  line-height: 1;
  border: 1px solid #2c2a3e;
  text-shadow: none; /* Crisper text */
  image-rendering: pixelated;
}

.status-icon:hover {
  transform: scale(1.1);
}

/* Use ::before for content to allow background colors */
.status-icon::before {
  display: block;
  line-height: 1; /* Ensure icon fits */
}

.status-icon.ready-to-harvest { background-color: var(--color-success); color: #1e401b; }
.status-icon.needs-water { background-color: var(--color-info); color: #1d3c50; }
.status-icon.empty-plot { background-color: var(--color-border); color: var(--color-bg-dark); }

.status-icon.ready-to-harvest::before { content: 'âœ“'; }
.status-icon.needs-water::before { content: '~'; } /* Water drop is hard in pixel text */
.status-icon.empty-plot::before { content: '+'; }


/* Placeholder for empty grid slots */
.garden-plot.placeholder {
  background-color: transparent;
  border: 1px dashed var(--color-border);
  box-shadow: none;
  cursor: default;
}
.garden-plot.placeholder::before { display: none; } /* Hide texture */
.garden-plot.placeholder:hover { transform: none; }