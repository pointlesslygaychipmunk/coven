/* HUD Sidebar fixes */

.coven-hud-sidebar {
  position: relative;
  float: none;
  width: 220px; 
  height: 100%; 
  background-color: #4a3b5c;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><rect width="60" height="60" fill="%234a3b5c"/><path d="M0 0h10v10H0zm10 10h10v10H10zm10 10h10v10H20zm10 10h10v10H30zm10 10h10v10H40zm10 10h10v10H50z M50 0h10v10H50zM40 10h10v10H40zM30 20h10v10H30zM20 30h10v10H20zM10 40h10v10H10zM0 50h10v10H0z" fill="%233a2f4a" fill-opacity="0.4"/></svg>');
  border-right: 4px solid;
  border-image: url('data:image/svg+xml;utf8,<svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h8v8H0z" fill="%23483d66"/><path d="M2 2h4v4H2z" fill="%235d468a"/><path d="M0 0h2v2H0zm6 0h2v2H6zM0 6h2v2H0zm6 6h2v2H6z" fill="%233a2f4a"/></svg>') 4 stretch;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  box-shadow: 5px 0 15px rgba(0, 0, 0, 0.4);
  z-index: 10;
  font-family: var(--font-secondary);
  color: var(--color-text-light);
  image-rendering: pixelated;
  flex: 0 0 220px; /* Fixed flex width, don't grow or shrink */
  overflow: hidden; /* Prevent scrolling */
}

/* Navigation Panel - Make it non-scrollable */
.navigation-panel {
  margin-top: auto; /* Pushes navigation and end day to bottom */
  display: flex;
  flex-direction: column;
  gap: 15px; /* Space between nav and end day */
  flex-shrink: 0; /* Prevent shrinking */
}

.location-tabs {
  display: flex;
  flex-direction: column;
  gap: 6px;
  flex-shrink: 0; /* Prevent shrinking */
}

/* Calculate heights to ensure everything fits without scrolling */
@media (min-height: 700px) {
  .player-panel, .lunar-panel, .resources-panel {
    flex-shrink: 0; /* Don't allow shrinking */
  }
}

@media (max-height: 699px) {
  /* For smaller heights, reduce some padding/margins to fit everything */
  .coven-hud-sidebar {
    padding: 10px;
    gap: 10px;
  }
  
  .player-panel, .lunar-panel, .resources-panel {
    padding: 8px;
  }
  
  .player-portrait {
    width: 60px;
    height: 60px;
    margin-bottom: 8px;
  }
  
  .location-tabs {
    gap: 4px;
  }
  
  .location-tab {
    padding: 8px 10px;
  }
  
  .navigation-panel {
    gap: 10px;
  }
  
  .end-day-button {
    padding: 10px;
  }
}

/* Responsive layout for mobile - ensure everything fits */
@media (max-width: 768px) {
  .coven-hud-sidebar {
    float: none;
    width: 100%;
    height: auto;
    min-height: 80px;
    flex: 0 0 auto;
    padding: 10px;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: 10px;
    overflow: visible; /* Allow content to be visible on mobile */
  }
  
  /* Other mobile styles remain the same */
}